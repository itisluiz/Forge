<mat-toolbar id="menu-bar">
	<img src="../../../../assets/logo.svg" />

	<span (click)="navigateTo(options[2].route)" [ngClass]="{ active: activeRoute == 'sprint' }">Sprint board</span>
	<span (click)="navigateTo(options[0].route)" [ngClass]="{ active: activeRoute == 'epics' }">Epics</span>
	<span (click)="navigateTo(options[1].route)" [ngClass]="{ active: activeRoute == 'backlog' }">Backlog</span>
	<span (click)="navigateTo(options[3].route)" [ngClass]="{ active: activeRoute == 'planning-poker' }">Planning poker</span>

	<!-- <input id="search-bar" placeholder="Search here..." /> -->

	<form class="example-form">
		<mat-form-field class="search-bar">
			<mat-label>Search here...</mat-label>
			<input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto" />
			<mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
				@for (option of filteredOptions | async; track option) {
					<mat-option (click)="navigateTo(option.route!)" style="font-size: 14px" [value]="option">{{
						option.name
					}}</mat-option>
				}
			</mat-autocomplete>
		</mat-form-field>
	</form>

	<span class="spacer"></span>

	<button mat-icon-button (click)="playAudio()">
		<mat-icon [class.trollando]="trollando">notifications</mat-icon>
		<audio #audioPlayer hidden>
			<source src="../../../../assets/omeutcc.mp3" type="audio/mp3" />
		</audio>
	</button>
	<button mat-icon-button [matMenuTriggerFor]="menu">
		<mat-icon>settings</mat-icon>
	</button>
	<mat-menu #menu="matMenu">
		<button mat-menu-item (click)="openPopUp('leaveConfirm')">
			<span>Logout</span>
		</button>
	</mat-menu>
	<button mat-icon-button>
		<mat-icon><img [src]="userPhoto" /></mat-icon>
	</button>
	<p class="role">{{ getProjectMemberFromMap(userEid)?.role | role }}</p>
</mat-toolbar>

@if (popUpLeaveForge) {
	<div class="pop-up-background" (click)="closePopUp('leaveConfirm')"></div>

	<app-delete-popup
		[title]="'Logout'"
		[description]="'Are you sure you want to logout? You cannot go back on this action.'"
		confirmButtonLabel="Confirm"
		(cancelEmitter)="closePopUp('leaveConfirm')"
		(confirmDeleteEmmiter)="leaveForge()"
	></app-delete-popup>
}
